<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>AMarshal - marshal a Ruby object as Ruby code</title>
</head>
<body>

<!-- <img src="amarshal.png" alt="AMarshal title image"> -->

<h1>AMarshal - marshal a Ruby object as Ruby code</h1>
<p>AMarshal is a library for marshaling a Ruby object as a Ruby code.
It can marshal objects which have cyclic reference.
</p>

<h2>Usage</h2>
<p>
AMarshal is similar to Marshal.
</p>
<pre>
% ruby -ramarshal -e 'AMarshal.dump([1,2,3], STDOUT)'
v = []
v[0] = Array.allocate()
v[0] &lt;&lt; 1
v[0] &lt;&lt; 2
v[0] &lt;&lt; 3
v[0]
</pre>

<p>
<em>Highly experimental</em> pretty printing version also exists:
</p>
<pre>
% ruby -ramarshal-pretty -e '
  o = [1,2]
  o &lt;&lt; [[3], [[4]], [[[o]]]]
  o = [5, o, [[[o]]], o] 
  AMarshal.dump_pretty(o, STDOUT)'
v = []
v[0] = Array.allocate
v[0] &lt;&lt; 1
v[0] &lt;&lt; 2
v[0] &lt;&lt; [[3], [[4]], [[[v[0]]]]]
[5, v[0], [[[v[0]]]], v[0]]
</pre>

<h2>Requirements</h2>
<ul>
<li><a href="http://www.ruby-lang.org/">ruby 1.7.2 (2002-08-13)</a> (older version doesn't work.)
</ul>

<h2>Download AMarshal</h2>
<dl>

<dt>with HTTP to get (relatively) stable tarball:</dt>
<dd><p><a href="http://cvs.m17n.org/cgi-bin/viewcvs/amarshal/amarshal-0.4.tar.gz?tarball=1&amp;only_with_tag=amarshal-0_4&amp;cvsroot=ruby">amarshal-0.4.tar.gz</a></p></dd>

<dt>with HTTP to get latest tarball:</dt>
<dd><p><a href="http://cvs.m17n.org/cgi-bin/viewcvs/amarshal/amarshal-latest.tar.gz?tarball=1&amp;cvsroot=ruby">amarshal-latest.tar.gz</a></p></dd>

<dt>with <a href="http://www.cvshome.org/">CVS</a>:</dt>
<dd>
<pre>
% cvs -d :pserver:anonymous@cvs.m17n.org:/cvs/ruby login
(Logging in to anonymous@cvs.m17n.org)
CVS password: <a href="#cvspassword">(just hit return)</a></it>
% cvs -d :pserver:anonymous@cvs.m17n.org:/cvs/ruby co amarshal
</pre>
<a name="cvspassword">The cvs password can be any string</a>.
</dd>

<dt>with <a href="http://viewcvs.sourceforge.net/">ViewCVS</a>:</dt>
<dd><p><a href="http://cvs.m17n.org/cgi-bin/viewcvs/amarshal/?cvsroot=ruby">click here to browse source code</a>.</p></dd>

</dl>

</ul>
<hr>
<address><a href="http://cvs.m17n.org/~akr/">akr@m17n.org</a></address>
</body>
</html>
